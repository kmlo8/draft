{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useAuth } from '@/context/AuthContext';\n\nexport default function Header() {\n  const { isAuthenticated, user } = useAuth();\n\n  const clearSearchState = () => {\n    try {\n      sessionStorage.removeItem('search_state_v1');\n    } catch (e) {\n      // Ignore errors\n    }\n  };\n\n  return (\n    <header className=\"fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-sm border-b border-gray-800\">\n      <div className=\"container mx-auto px-4 py-4 flex items-center justify-between\">\n        {/* Logo */}\n        <Link href=\"/\" onClick={clearSearchState} className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 bg-red-600 flex items-center justify-center rounded\">\n            <svg className=\"w-6 h-6 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <rect x=\"2\" y=\"4\" width=\"16\" height=\"12\" rx=\"1\" />\n              <rect x=\"4\" y=\"7\" width=\"5\" height=\"3\" fill=\"black\" />\n              <rect x=\"11\" y=\"7\" width=\"5\" height=\"3\" fill=\"black\" />\n            </svg>\n          </div>\n          <span className=\"text-white text-xl font-bold\">MovieFlix</span>\n        </Link>\n\n        {/* Navigation */}\n        <nav className=\"flex items-center gap-6\">\n          <Link href=\"/\" onClick={clearSearchState} className=\"flex items-center gap-2 text-white hover:text-red-500 transition\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n            </svg>\n            <span>홈</span>\n          </Link>\n\n          <Link href=\"/search\" className=\"flex items-center gap-2 text-white hover:text-red-500 transition\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n            <span>검색</span>\n          </Link>\n\n          {isAuthenticated ? (\n            <Link href=\"/user\" onClick={clearSearchState} className=\"flex items-center gap-2 text-white hover:text-red-500 transition\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n              </svg>\n              <span>마이페이지</span>\n            </Link>\n          ) : (\n            <Link href=\"/login\" className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition\">\n              로그인\n            </Link>\n          )}\n        </nav>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,GAAG,IAAA,iLAAO;IAEzC,MAAM,mBAAmB;QACvB,IAAI;YACF,eAAe,UAAU,CAAC;QAC5B,EAAE,OAAO,GAAG;QACV,gBAAgB;QAClB;IACF;IAEA,qBACE,6RAAC;QAAO,WAAU;kBAChB,cAAA,6RAAC;YAAI,WAAU;;8BAEb,6RAAC,sNAAI;oBAAC,MAAK;oBAAI,SAAS;oBAAkB,WAAU;;sCAClD,6RAAC;4BAAI,WAAU;sCACb,cAAA,6RAAC;gCAAI,WAAU;gCAAqB,MAAK;gCAAe,SAAQ;;kDAC9D,6RAAC;wCAAK,GAAE;wCAAI,GAAE;wCAAI,OAAM;wCAAK,QAAO;wCAAK,IAAG;;;;;;kDAC5C,6RAAC;wCAAK,GAAE;wCAAI,GAAE;wCAAI,OAAM;wCAAI,QAAO;wCAAI,MAAK;;;;;;kDAC5C,6RAAC;wCAAK,GAAE;wCAAK,GAAE;wCAAI,OAAM;wCAAI,QAAO;wCAAI,MAAK;;;;;;;;;;;;;;;;;sCAGjD,6RAAC;4BAAK,WAAU;sCAA+B;;;;;;;;;;;;8BAIjD,6RAAC;oBAAI,WAAU;;sCACb,6RAAC,sNAAI;4BAAC,MAAK;4BAAI,SAAS;4BAAkB,WAAU;;8CAClD,6RAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,6RAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,6RAAC;8CAAK;;;;;;;;;;;;sCAGR,6RAAC,sNAAI;4BAAC,MAAK;4BAAU,WAAU;;8CAC7B,6RAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,6RAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,6RAAC;8CAAK;;;;;;;;;;;;wBAGP,gCACC,6RAAC,sNAAI;4BAAC,MAAK;4BAAQ,SAAS;4BAAkB,WAAU;;8CACtD,6RAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,6RAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;8CAEvE,6RAAC;8CAAK;;;;;;;;;;;iDAGR,6RAAC,sNAAI;4BAAC,MAAK;4BAAS,WAAU;sCAAsE;;;;;;;;;;;;;;;;;;;;;;;AAQhH","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { useAuth } from '@/context/AuthContext';\nimport { authAPI, setAccessToken } from '@/lib/api';\nimport Header from '@/components/Header';\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const { login } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      const response = await authAPI.login(email, password);\n      const { accessToken, user } = response.data;\n\n      // Set token and user\n      setAccessToken(accessToken);\n      login(accessToken, user);\n\n      // Redirect to home\n      router.push('/'); // The home page will now handle displaying recommendations\n    } catch (err: any) {\n      const status = err.response?.status;\n      const errorMessage = err.response?.data?.error || 'Login failed';\n\n      if (status === 404) {\n        // No account exists for this email → suggest signup\n        setError('NOT_REGISTERED'); // Use a special error code for the modal\n      } else if (status === 401) {\n        // Account exists but password incorrect\n        setError('이메일 또는 비밀번호가 올바르지 않습니다');\n      } else {\n        setError(errorMessage);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      <Header />\n\n      <div className=\"container mx-auto px-4 pt-24 flex items-center justify-center min-h-screen\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-gray-900 rounded-lg p-8 shadow-xl\">\n            <div className=\"text-center mb-8\">\n              <h1 className=\"text-3xl font-bold mb-2\">MovieFlix</h1>\n              <p className=\"text-gray-400\">로그인하여 영화를 탐색하세요</p>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium mb-2\">\n                  이메일\n                </label>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  className=\"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:border-red-500\"\n                  placeholder=\"your@email.com\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium mb-2\">\n                  비밀번호\n                </label>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  className=\"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded focus:outline-none focus:border-red-500\"\n                  placeholder=\"••••••••\"\n                />\n              </div>\n\n              {error && error !== 'NOT_REGISTERED' && (\n                <div className=\"bg-red-500/10 border border-red-500 text-red-500 px-4 py-2 rounded text-sm\">\n                  {error}\n                </div>\n              )}\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-red-600 text-white py-2 rounded font-medium hover:bg-red-700 transition disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? '로그인 중...' : '로그인'}\n              </button>\n            </form>\n\n            <div className=\"mt-6 text-center text-sm text-gray-400\">\n              계정이 없으신가요?{' '}\n              <Link href=\"/signup\" className=\"text-red-500 hover:text-red-400\">\n                회원가입\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Not Registered Modal */}\n      {error === 'NOT_REGISTERED' && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm\" onClick={() => setError('')}>\n          <div className=\"bg-gray-900 border-2 border-red-500 rounded-lg p-8 max-w-md mx-4 shadow-2xl\">\n            <div className=\"text-center\">\n              {/* Icon */}\n              <div className=\"mb-4 flex justify-center\">\n                <div className=\"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center\">\n                  <svg\n                    className=\"w-10 h-10 text-red-500\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                    />\n                  </svg>\n                </div>\n              </div>\n\n              {/* Message */}\n              <h2 className=\"text-2xl font-bold text-white mb-3\">\n                계정을 찾을 수 없습니다\n              </h2>\n              <p className=\"text-gray-300 mb-6\">\n                이 이메일로 등록된 계정이 없습니다.<br />\n                먼저 회원가입을 해주세요.\n              </p>\n\n              {/* Buttons */}\n              <div className=\"flex flex-col gap-3\">\n                <button\n                  onClick={() => router.push('/signup')}\n                  className=\"w-full bg-red-600 text-white py-3 rounded-lg font-medium hover:bg-red-700 transition\"\n                >\n                  회원가입하러 가기\n                </button>\n                <button\n                  onClick={() => setError('')}\n                  className=\"w-full bg-gray-800 text-gray-300 py-3 rounded-lg font-medium hover:bg-gray-700 transition\"\n                >\n                  닫기\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}