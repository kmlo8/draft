{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/lib/api.ts"],"sourcesContent":["// import axios from 'axios';\n// // whi is this does not work\n// const API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n//\n//   getLikedDirectors: () => api.get('/api/user/liked-directors'),\n//\n//   getSearchHistory: (limit = 10) =>\n//     api.get('/api/user/search-history', { params: { limit } }),\n//\n//   submitQuestionnaire: (data: any) =>\n//     api.post('/api/user/questionnaire', data)\n// };\n//\n// // Movies API\n// export const moviesAPI = {\n//   getMovie: async (id: string) => {\n//     const { data } = await api.get(`/api/movies/${id}`);\n//     return data.movie;\n//   },\n//   getById: (id: string, tmdbId?: number) =>\n//     api.get(`/api/movies/${id}`, tmdbId ? { params: { tmdbId } } : {}),\n//\n//   search: (query: string, filters?: any) =>\n//     api.get('/api/movies/search', { params: { q: query, ...filters } }),\n//\n//   getByGenres: (genres: string[]) =>\n//     api.get('/api/movies/by-genres', { params: { genres: genres.join(',') } }),\n//\n//   getNew: (limit?: number) =>\n//     api.get('/api/movies/new', { params: limit ? { limit } : {} }),\n//\n//   getPopular: (limit?: number) =>\n//     api.get('/api/movies/popular', { params: limit ? { limit } : {} }),\n//\n//   trackClick: (id: string) => api.post(`/api/movies/${id}/click`)\n// };\n//\n// // Likes API\n// export const likesAPI = {\n//   create: (targetType: string, targetId: string) =>\n//     api.post('/api/likes', { targetType, targetId }),\n//\n//   delete: (likeId: string) => api.delete(`/api/likes/${likeId}`),\n//\n//   deleteByTarget: (targetType: string, targetId: string) =>\n//     api.delete('/api/likes', { params: { targetType, targetId } }),\n//\n//   check: (items: { type: string; id: string }[]) =>\n//     api.get('/api/likes/check', {\n//       params: { items: JSON.stringify(items) }\n//     })\n// };\n//\n// // Actors API\n// export const actorsAPI = {\n//   getById: (id: string) => api.get(`/api/actors/${id}`),\n//   search: (q: string) => api.get('/api/actors/search', { params: { q } })\n// };\n//\n// // Directors API\n// export const directorsAPI = {\n//   getById: async (id: string) => {\n//     const { data } = await api.get(`/api/directors/${id}`);\n//     return data.director;\n//   },\n//   search: (q: string) => api.get('/api/directors/search', { params: { q } })\n// };\n//\n// // Recommendations API\n// export const recommendationsAPI = {\n//   search: (query: string, userPreferences?: any) =>\n//     api.post('/api/recommendations/search', { query, userPreferences }),\n//\n// export const getMovie = async (id: string) => {\n//   const { data } = await apiClient.get(`/api/movies/${id}`);\n//   return data.movie;\n// };\n\nimport axios from 'axios';\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n\nexport const api = axios.create({\n    baseURL: API_BASE,\n    withCredentials: true\n});\n\n// ---------------- Access Token Handling ----------------\nlet accessToken: string | null = null;\n\nexport const setAccessToken = (token: string | null) => {\n    accessToken = token;\n    if (token) {\n        api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n        delete api.defaults.headers.common['Authorization'];\n    }\n};\n\n// ================== USER API ==================\nexport const userAPI = {\n    getStats: () => api.get('/api/user/stats'), // new\n    getLikedMovies: () => api.get('/api/user/liked-movies'), // new\n    getLikedActors: () => api.get('/api/user/liked-actors'), // new\n    getLikedDirectors: () => api.get('/api/user/liked-directors'),\n\n    getSearchHistory: (limit = 10) =>\n        api.get('/api/user/search-history', { params: { limit } }),\n\n    submitQuestionnaire: (data: any) =>\n        api.post('/api/user/questionnaire', data),\n\n    getProfile: () => api.get('/api/user/profile'),\n    updateProfile: (data: any) => api.patch('/api/user/profile', data),\n\n};\n\n// ================== MOVIES API ==================\nexport const moviesAPI = {\n    getMovie: async (id: string) => {\n        const { data } = await api.get(`/api/movies/${id}`);\n        return data.movie;\n    },\n\n    getById: (id: string, tmdbId?: number) =>\n        api.get(`/api/movies/${id}`, tmdbId ? { params: { tmdbId } } : {}),\n\n    search: (query: string, filters?: any) =>\n        api.get('/api/movies/search', { params: { q: query, ...filters } }),\n\n    getByGenres: (genres: string[]) =>\n        api.get('/api/movies/by-genres', {\n            params: { genres: genres.join(',') }\n        }),\n\n    getNew: (limit?: number) =>\n        api.get('/api/movies/new', { params: limit ? { limit } : {} }),\n\n    getPopular: (limit?: number) =>\n        api.get('/api/movies/popular', { params: limit ? { limit } : {} }),\n\n    trackClick: (id: string) => api.post(`/api/movies/${id}/click`)\n};\n\n// ================== LIKES API ==================\nexport const likesAPI = {\n    create: (targetType: string, targetId: string) =>\n        api.post('/api/likes', { targetType, targetId }),\n\n    delete: (likeId: string) => api.delete(`/api/likes/${likeId}`),\n\n    deleteByTarget: (targetType: string, targetId: string) =>\n        api.delete('/api/likes', { params: { targetType, targetId } }),\n\n    check: (items: { type: string; id: string }[]) =>\n        api.get('/api/likes/check', {\n            params: { items: JSON.stringify(items) }\n        }),\n\n    toggle: (targetType: string, targetId: string) =>\n        api.post('/api/likes/toggle', { targetType, targetId })\n};\n\n// ================== ACTORS API ==================\nexport const actorsAPI = {\n    getById: (id: string) => api.get(`/api/actors/${id}`),\n    search: (q: string) => api.get('/api/actors/search', { params: { q } })\n};\n\n// ================== DIRECTORS API ==================\nexport const directorsAPI = {\n    getById: async (id: string) => {\n        const { data } = await api.get(`/api/directors/${id}`);\n        return data.director;\n    },\n    search: (q: string) => api.get('/api/directors/search', { params: { q } })\n};\n\n// ================== RECOMMENDATIONS API ==================\nexport const recommendationsAPI = {\n    search: (query: string, userPreferences?: any) =>\n        api.post('/api/recommendations/search', {\n            query,\n            userPreferences\n        })\n};\n// ================== AUTH API ==================\nexport const authAPI = {\n    login: (email: string, password: string) =>\n        api.post('/api/auth/login', { email, password }),\n\n    logout: () =>\n        api.post('/api/auth/logout'),\n\n    refresh: () =>\n        api.post('/api/auth/refresh')\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uTAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwU,GACrW,sGACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,uTAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePoster.tsx"],"sourcesContent":["import Link from 'next/link';\nimport MoviePosterOverlay from './MoviePosterOverlay';\n\ntype Movie = {\n  id: string;\n  title: string;\n  year: number;\n  posterUrl: string;\n};\n\ntype Props = {\n  movie: Movie;\n};\n\nexport default function MoviePoster({ movie }: Props) {\n  return (\n    <Link href={`/movie/${movie.id}`} className=\"block group relative\">\n      <div className=\"aspect-[2/3] w-full bg-gray-800 rounded-lg overflow-hidden\">\n        {movie.posterUrl && (\n          <img\n            src={movie.posterUrl}\n            alt={movie.title}\n            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out\"\n          />\n        )}\n      </div>\n      <div className=\"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out\" />\n      <MoviePosterOverlay movieId={movie.id} />\n      <div className=\"mt-2 text-sm\">\n        <h3 className=\"font-semibold text-white truncate\">{movie.title}</h3>\n        <p className=\"text-gray-400\">{movie.year}</p>\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAae,SAAS,YAAY,EAAE,KAAK,EAAS;IAClD,qBACE,6RAAC,yOAAI;QAAC,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAAE,WAAU;;0BAC1C,6RAAC;gBAAI,WAAU;0BACZ,MAAM,SAAS,kBACd,6RAAC;oBACC,KAAK,MAAM,SAAS;oBACpB,KAAK,MAAM,KAAK;oBAChB,WAAU;;;;;;;;;;;0BAIhB,6RAAC;gBAAI,WAAU;;;;;;0BACf,6RAAC,2LAAkB;gBAAC,SAAS,MAAM,EAAE;;;;;;0BACrC,6RAAC;gBAAI,WAAU;;kCACb,6RAAC;wBAAG,WAAU;kCAAqC,MAAM,KAAK;;;;;;kCAC9D,6RAAC;wBAAE,WAAU;kCAAiB,MAAM,IAAI;;;;;;;;;;;;;;;;;;AAIhD","debugId":null}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/app/director/%5Bid%5D/page.tsx"],"sourcesContent":["import { notFound } from 'next/navigation';\nimport { directorsAPI } from '@/lib/api';\nimport MoviePoster from '@/components/MoviePoster';\n\ntype Director = {\n  id: string;\n  name: string;\n  nameEnglish: string;\n  profileUrl: string;\n  movies: Movie[];\n};\n\ntype Movie = {\n  id: string;\n  title: string;\n  year: number;\n  posterUrl: string;\n};\n\ntype Props = {\n  params: { id: string };\n};\n\nexport default async function DirectorPage({ params: { id } }: Props) {\n  let director: Director;\n\n  try {\n    director = await directorsAPI.getById(id);\n  } catch (err: any) {\n    // If director not found, show 404\n    if (err.response?.status === 404) {\n      notFound();\n    } else {\n      throw new Error('Failed to fetch director data.');\n    }\n  }\n\n  return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"flex flex-col md:flex-row gap-8\">\n          <div className=\"w-full md:w-60 lg:w-72 flex-shrink-0\">\n            <div className=\"aspect-[2/3] rounded-lg overflow-hidden ring-1 ring-white/10 bg-gray-900\">\n              {director.profileUrl ? (\n                  <img\n                      src={director.profileUrl}\n                      alt={director.name}\n                      className=\"w-full h-full object-cover\"\n                  />\n              ) : (\n                  <div className=\"w-full h-full flex items-center justify-center text-gray-500\">\n                    No Image\n                  </div>\n              )}\n            </div>\n          </div>\n          <div className=\"flex-1\">\n            <h1 className=\"text-3xl md:text-5xl font-bold mb-2\">{director.name}</h1>\n            <p className=\"mb-4 text-lg text-gray-400\">{director.nameEnglish}</p>\n          </div>\n        </div>\n\n        <div className=\"mt-12\">\n          <h2 className=\"text-2xl font-bold mb-4\">Movies</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n            {director.movies.map((movie) => (\n                <MoviePoster key={movie.id} movie={movie} />\n            ))}\n          </div>\n        </div>\n      </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAqBe,eAAe,aAAa,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAS;IAClE,IAAI;IAEJ,IAAI;QACF,WAAW,MAAM,yKAAY,CAAC,OAAO,CAAC;IACxC,EAAE,OAAO,KAAU;QACjB,kCAAkC;QAClC,IAAI,IAAI,QAAQ,EAAE,WAAW,KAAK;YAChC,IAAA,gPAAQ;QACV,OAAO;YACL,MAAM,IAAI,MAAM;QAClB;IACF;IAEA,qBACI,6RAAC;QAAI,WAAU;;0BACb,6RAAC;gBAAI,WAAU;;kCACb,6RAAC;wBAAI,WAAU;kCACb,cAAA,6RAAC;4BAAI,WAAU;sCACZ,SAAS,UAAU,iBAChB,6RAAC;gCACG,KAAK,SAAS,UAAU;gCACxB,KAAK,SAAS,IAAI;gCAClB,WAAU;;;;;qDAGd,6RAAC;gCAAI,WAAU;0CAA+D;;;;;;;;;;;;;;;;kCAMtF,6RAAC;wBAAI,WAAU;;0CACb,6RAAC;gCAAG,WAAU;0CAAuC,SAAS,IAAI;;;;;;0CAClE,6RAAC;gCAAE,WAAU;0CAA8B,SAAS,WAAW;;;;;;;;;;;;;;;;;;0BAInE,6RAAC;gBAAI,WAAU;;kCACb,6RAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,6RAAC;wBAAI,WAAU;kCACZ,SAAS,MAAM,CAAC,GAAG,CAAC,CAAC,sBAClB,6RAAC,oLAAW;gCAAgB,OAAO;+BAAjB,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;AAM1C","debugId":null}}]
}