{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { likesAPI } from '@/lib/api';\n\ntype Props = {\n  movieId: string;\n  rating?: string;\n  initiallyLiked?: boolean;\n  onLikeChange?: (liked: boolean) => void;\n};\n\nexport default function MoviePosterOverlay({\n  movieId, \n  rating, \n  initiallyLiked = false,\n  onLikeChange \n}: Props) {\n  const router = useRouter();\n  const { isAuthenticated } = useAuth();\n  const [liked, setLiked] = useState<boolean>(initiallyLiked);\n  const [pending, setPending] = useState<boolean>(false);\n\n  const toggleLike = async (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent navigation when clicking like button\n\n    if (!isAuthenticated) {\n      router.push('/login');\n      return;\n    }\n\n    if (pending) return;\n    setPending(true);\n    try {\n      if (!liked) {\n        console.log('Frontend: Liking Movie. Type: Movie, ID:', movieId);\n        await likesAPI.create('Movie', movieId);\n        setLiked(true);\n        onLikeChange?.(true);\n      } else {\n        console.log('Frontend: Unliking Movie. Type: Movie, ID:', movieId);\n        await likesAPI.deleteByTarget('Movie', movieId);\n        setLiked(false);\n        onLikeChange?.(false);\n      }\n    } catch (e) {\n      console.error('Frontend: Error toggling like:', e);\n      // ignore errors for now\n    } finally {\n      setPending(false);\n    }\n  };\n\n  return (\n    <div className=\"absolute top-2 right-2 flex items-center gap-2 z-10\">\n      {/* Rating */}\n      {rating && (\n        <div className=\"bg-black/70 backdrop-blur-sm text-white px-2 py-1 rounded text-xs font-semibold\">\n          {rating}\n        </div>\n      )}\n      \n      {/* Like Button */}\n      <button\n        onClick={toggleLike}\n        disabled={pending}\n        className={`p-1.5 rounded-full transition ${\n          liked \n            ? 'text-white'\n            : 'bg-black/70 backdrop-blur-sm hover:bg-black/90 text-white'\n        } disabled:opacity-50`}\n        style={{\n          backgroundColor: liked ? '#dc2626' : '',\n        }}\n        onMouseOver={(e) => {\n          if (liked) {\n            e.currentTarget.style.backgroundColor = '#c52222';\n          }\n        }}\n        onMouseOut={(e) => {\n          if (liked) {\n            e.currentTarget.style.backgroundColor = '#dc2626';\n          }\n        }}\n        aria-label={liked ? '좋아요 취소' : '좋아요'}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill={liked ? '#dc2626' : 'none'}\n          stroke=\"currentColor\"\n          strokeWidth={2}\n          className=\"w-4 h-4\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.737-.715-1.611-2.377-2.737-4.313-2.737C5.099 3.75 3 5.765 3 8.25c0 7.125 9 12 9 12s9-4.875 9-12z\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAce,SAAS,mBAAmB,EACzC,OAAO,EACP,MAAM,EACN,iBAAiB,KAAK,EACtB,YAAY,EACN;IACN,MAAM,SAAS,IAAA,8LAAS;IACxB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,iLAAO;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gQAAQ,EAAU;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gQAAQ,EAAU;IAEhD,MAAM,aAAa,OAAO;QACxB,EAAE,eAAe,IAAI,+CAA+C;QAEpE,IAAI,CAAC,iBAAiB;YACpB,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,IAAI,SAAS;QACb,WAAW;QACX,IAAI;YACF,IAAI,CAAC,OAAO;gBACV,QAAQ,GAAG,CAAC,4CAA4C;gBACxD,MAAM,qKAAQ,CAAC,MAAM,CAAC,SAAS;gBAC/B,SAAS;gBACT,eAAe;YACjB,OAAO;gBACL,QAAQ,GAAG,CAAC,8CAA8C;gBAC1D,MAAM,qKAAQ,CAAC,cAAc,CAAC,SAAS;gBACvC,SAAS;gBACT,eAAe;YACjB;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,kCAAkC;QAChD,wBAAwB;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6RAAC;QAAI,WAAU;;YAEZ,wBACC,6RAAC;gBAAI,WAAU;0BACZ;;;;;;0BAKL,6RAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAW,CAAC,8BAA8B,EACxC,QACI,eACA,4DACL,oBAAoB,CAAC;gBACtB,OAAO;oBACL,iBAAiB,QAAQ,YAAY;gBACvC;gBACA,aAAa,CAAC;oBACZ,IAAI,OAAO;wBACT,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;oBAC1C;gBACF;gBACA,YAAY,CAAC;oBACX,IAAI,OAAO;wBACT,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;oBAC1C;gBACF;gBACA,cAAY,QAAQ,WAAW;0BAE/B,cAAA,6RAAC;oBACC,OAAM;oBACN,SAAQ;oBACR,MAAM,QAAQ,YAAY;oBAC1B,QAAO;oBACP,aAAa;oBACb,WAAU;8BAEV,cAAA,6RAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,GAAE;;;;;;;;;;;;;;;;;;;;;;AAMd","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePoster.tsx"],"sourcesContent":["import Link from 'next/link';\nimport MoviePosterOverlay from './MoviePosterOverlay';\n\ntype Movie = {\n  id: string;\n  title: string;\n  year: number;\n  posterUrl: string;\n};\n\ntype Props = {\n  movie: Movie;\n};\n\nexport default function MoviePoster({ movie }: Props) {\n  return (\n    <Link href={`/movie/${movie.id}`} className=\"block group relative\">\n      <div className=\"aspect-[2/3] w-full bg-gray-800 rounded-lg overflow-hidden\">\n        {movie.posterUrl && (\n          <img\n            src={movie.posterUrl}\n            alt={movie.title}\n            className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out\"\n          />\n        )}\n      </div>\n      <div className=\"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out\" />\n      <MoviePosterOverlay movieId={movie.id} />\n      <div className=\"mt-2 text-sm\">\n        <h3 className=\"font-semibold text-white truncate\">{movie.title}</h3>\n        <p className=\"text-gray-400\">{movie.year}</p>\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAae,SAAS,YAAY,EAAE,KAAK,EAAS;IAClD,qBACE,6RAAC,sNAAI;QAAC,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAAE,WAAU;;0BAC1C,6RAAC;gBAAI,WAAU;0BACZ,MAAM,SAAS,kBACd,6RAAC;oBACC,KAAK,MAAM,SAAS;oBACpB,KAAK,MAAM,KAAK;oBAChB,WAAU;;;;;;;;;;;0BAIhB,6RAAC;gBAAI,WAAU;;;;;;0BACf,6RAAC,2LAAkB;gBAAC,SAAS,MAAM,EAAE;;;;;;0BACrC,6RAAC;gBAAI,WAAU;;kCACb,6RAAC;wBAAG,WAAU;kCAAqC,MAAM,KAAK;;;;;;kCAC9D,6RAAC;wBAAE,WAAU;kCAAiB,MAAM,IAAI;;;;;;;;;;;;;;;;;;AAIhD","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/Loading.tsx"],"sourcesContent":["export default function Loading() {\n  return (\n    <div className=\"flex justify-center items-center h-screen\">\n      <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-white\"></div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,6RAAC;QAAI,WAAU;kBACb,cAAA,6RAAC;YAAI,WAAU;;;;;;;;;;;AAGrB","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/Error.tsx"],"sourcesContent":["type Props = {\n  message: string;\n};\n\nexport default function Error({ message }: Props) {\n  return (\n    <div className=\"flex justify-center items-center h-screen\">\n      <div className=\"text-red-500 text-2xl\">{message}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAIe,SAAS,MAAM,EAAE,OAAO,EAAS;IAC9C,qBACE,6RAAC;QAAI,WAAU;kBACb,cAAA,6RAAC;YAAI,WAAU;sBAAyB;;;;;;;;;;;AAG9C","debugId":null}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/app/director/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'next/navigation';\nimport MoviePoster from '@/components/MoviePoster';\nimport Loading from '@/components/Loading';\nimport Error from '@/components/Error';\n\ntype Director = {\n  id: string;\n  name: string;\n  nameEnglish: string;\n  profileUrl: string;\n  movies: Movie[];\n};\n\ntype Movie = {\n  id: string;\n  title: string;\n  year: number;\n  posterUrl: string;\n};\n\nexport default function DirectorPage() {\n  const params = useParams();\n  const id = params?.id;\n\n  const [director, setDirector] = useState<Director | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!id) return;\n\n    const fetchDirector = async () => {\n      try {\n        const res = await fetch(`/api/directors/${id}`);\n        if (!res.ok) {\n          if (res.status === 404) setError('Director not found.');\n          else setError('Failed to fetch director data.');\n          return;\n        }\n        const data = await res.json();\n        setDirector(data.director);\n      } catch (err) {\n        console.error(err);\n        setError('Failed to fetch director data.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDirector();\n  }, [id]);\n\n  if (loading) return <Loading />;\n  if (error) return <Error message={error} />;\n  if (!director) return null;\n\n  return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"flex flex-col md:flex-row gap-8\">\n          <div className=\"w-full md:w-60 lg:w-72 flex-shrink-0\">\n            <div className=\"aspect-[2/3] rounded-lg overflow-hidden ring-1 ring-white/10 bg-gray-900\">\n              {director.profileUrl ? (\n                  <img\n                      src={director.profileUrl}\n                      alt={director.name}\n                      className=\"w-full h-full object-cover\"\n                  />\n              ) : (\n                  <div className=\"w-full h-full flex items-center justify-center text-gray-500\">\n                    No Image\n                  </div>\n              )}\n            </div>\n          </div>\n          <div className=\"flex-1\">\n            <h1 className=\"text-3xl md:text-5xl font-bold mb-2\">{director.name}</h1>\n            <p className=\"mb-4 text-lg text-gray-400\">{director.nameEnglish}</p>\n          </div>\n        </div>\n\n        <div className=\"mt-12\">\n          <h2 className=\"text-2xl font-bold mb-4\">Movies</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n            {director.movies.map((movie) => (\n                <MoviePoster key={movie.id} movie={movie} />\n            ))}\n          </div>\n        </div>\n      </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAuBe,SAAS;IACtB,MAAM,SAAS,IAAA,8LAAS;IACxB,MAAM,KAAK,QAAQ;IAEnB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gQAAQ,EAAkB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gQAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gQAAQ,EAAgB;IAElD,IAAA,iQAAS,EAAC;QACR,IAAI,CAAC,IAAI;QAET,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,eAAe,EAAE,IAAI;gBAC9C,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,IAAI,IAAI,MAAM,KAAK,KAAK,SAAS;yBAC5B,SAAS;oBACd;gBACF;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,YAAY,KAAK,QAAQ;YAC3B,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC;gBACd,SAAS;YACX,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAG;IAEP,IAAI,SAAS,qBAAO,6RAAC,gLAAO;;;;;IAC5B,IAAI,OAAO,qBAAO,6RAAC,8KAAK;QAAC,SAAS;;;;;;IAClC,IAAI,CAAC,UAAU,OAAO;IAEtB,qBACI,6RAAC;QAAI,WAAU;;0BACb,6RAAC;gBAAI,WAAU;;kCACb,6RAAC;wBAAI,WAAU;kCACb,cAAA,6RAAC;4BAAI,WAAU;sCACZ,SAAS,UAAU,iBAChB,6RAAC;gCACG,KAAK,SAAS,UAAU;gCACxB,KAAK,SAAS,IAAI;gCAClB,WAAU;;;;;qDAGd,6RAAC;gCAAI,WAAU;0CAA+D;;;;;;;;;;;;;;;;kCAMtF,6RAAC;wBAAI,WAAU;;0CACb,6RAAC;gCAAG,WAAU;0CAAuC,SAAS,IAAI;;;;;;0CAClE,6RAAC;gCAAE,WAAU;0CAA8B,SAAS,WAAW;;;;;;;;;;;;;;;;;;0BAInE,6RAAC;gBAAI,WAAU;;kCACb,6RAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,6RAAC;wBAAI,WAAU;kCACZ,SAAS,MAAM,CAAC,GAAG,CAAC,CAAC,sBAClB,6RAAC,oLAAW;gCAAgB,OAAO;+BAAjB,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;AAM1C","debugId":null}}]
}