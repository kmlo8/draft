{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/BackButton.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\n\nexport default function BackButton({ className = '' }: { className?: string }) {\n  const router = useRouter();\n  return (\n    <button\n      onClick={() => router.back()}\n      className={`px-4 py-2 rounded-full text-sm transition btn-neutral ${className}`}\n    >\n      뒤로가기\n    </button>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS,WAAW,EAAE,YAAY,EAAE,EAA0B;;IAC3E,MAAM,SAAS,IAAA,iMAAS;IACxB,qBACE,4OAAC;QACC,SAAS,IAAM,OAAO,IAAI;QAC1B,WAAW,CAAC,sDAAsD,EAAE,WAAW;kBAChF;;;;;;AAIL;GAVwB;;QACP,iMAAS;;;KADF","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/MoviePosterOverlay.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { likesAPI } from '@/lib/api';\n\ntype Props = {\n  movieId: string;\n  rating?: string;\n  initiallyLiked?: boolean;\n  onLikeChange?: (liked: boolean) => void;\n};\n\nexport default function MoviePosterOverlay({\n  movieId, \n  rating, \n  initiallyLiked = false,\n  onLikeChange \n}: Props) {\n  const router = useRouter();\n  const { isAuthenticated } = useAuth();\n  const [liked, setLiked] = useState<boolean>(initiallyLiked);\n  const [pending, setPending] = useState<boolean>(false);\n\n  const toggleLike = async (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent navigation when clicking like button\n\n    if (!isAuthenticated) {\n      router.push('/login');\n      return;\n    }\n\n    if (pending) return;\n    setPending(true);\n    try {\n      if (!liked) {\n        console.log('Frontend: Liking Movie. Type: Movie, ID:', movieId);\n        await likesAPI.create('Movie', movieId);\n        setLiked(true);\n        onLikeChange?.(true);\n      } else {\n        console.log('Frontend: Unliking Movie. Type: Movie, ID:', movieId);\n        await likesAPI.deleteByTarget('Movie', movieId);\n        setLiked(false);\n        onLikeChange?.(false);\n      }\n    } catch (e) {\n      console.error('Frontend: Error toggling like:', e);\n      // ignore errors for now\n    } finally {\n      setPending(false);\n    }\n  };\n\n  return (\n    <div className=\"absolute top-2 right-2 flex items-center gap-2 z-10\">\n      {/* Rating */}\n      {rating && (\n        <div className=\"bg-black/70 backdrop-blur-sm text-white px-2 py-1 rounded text-xs font-semibold\">\n          {rating}\n        </div>\n      )}\n      \n      {/* Like Button */}\n      <button\n        onClick={toggleLike}\n        disabled={pending}\n        className={`p-1.5 rounded-full transition ${\n          liked \n            ? 'text-white'\n            : 'bg-black/70 backdrop-blur-sm hover:bg-black/90 text-white'\n        } disabled:opacity-50`}\n        style={{\n          backgroundColor: liked ? '#dc2626' : '',\n        }}\n        onMouseOver={(e) => {\n          if (liked) {\n            e.currentTarget.style.backgroundColor = '#c52222';\n          }\n        }}\n        onMouseOut={(e) => {\n          if (liked) {\n            e.currentTarget.style.backgroundColor = '#dc2626';\n          }\n        }}\n        aria-label={liked ? '좋아요 취소' : '좋아요'}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          fill={liked ? '#dc2626' : 'none'}\n          stroke=\"currentColor\"\n          strokeWidth={2}\n          className=\"w-4 h-4\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.737-.715-1.611-2.377-2.737-4.313-2.737C5.099 3.75 3 5.765 3 8.25c0 7.125 9 12 9 12s9-4.875 9-12z\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAce,SAAS,mBAAmB,EACzC,OAAO,EACP,MAAM,EACN,iBAAiB,KAAK,EACtB,YAAY,EACN;;IACN,MAAM,SAAS,IAAA,iMAAS;IACxB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,oLAAO;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wNAAQ,EAAU;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAU;IAEhD,MAAM,aAAa,OAAO;QACxB,EAAE,eAAe,IAAI,+CAA+C;QAEpE,IAAI,CAAC,iBAAiB;YACpB,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,IAAI,SAAS;QACb,WAAW;QACX,IAAI;YACF,IAAI,CAAC,OAAO;gBACV,QAAQ,GAAG,CAAC,4CAA4C;gBACxD,MAAM,wKAAQ,CAAC,MAAM,CAAC,SAAS;gBAC/B,SAAS;gBACT,eAAe;YACjB,OAAO;gBACL,QAAQ,GAAG,CAAC,8CAA8C;gBAC1D,MAAM,wKAAQ,CAAC,cAAc,CAAC,SAAS;gBACvC,SAAS;gBACT,eAAe;YACjB;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,kCAAkC;QAChD,wBAAwB;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,4OAAC;QAAI,WAAU;;YAEZ,wBACC,4OAAC;gBAAI,WAAU;0BACZ;;;;;;0BAKL,4OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,WAAW,CAAC,8BAA8B,EACxC,QACI,eACA,4DACL,oBAAoB,CAAC;gBACtB,OAAO;oBACL,iBAAiB,QAAQ,YAAY;gBACvC;gBACA,aAAa,CAAC;oBACZ,IAAI,OAAO;wBACT,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;oBAC1C;gBACF;gBACA,YAAY,CAAC;oBACX,IAAI,OAAO;wBACT,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;oBAC1C;gBACF;gBACA,cAAY,QAAQ,WAAW;0BAE/B,cAAA,4OAAC;oBACC,OAAM;oBACN,SAAQ;oBACR,MAAM,QAAQ,YAAY;oBAC1B,QAAO;oBACP,aAAa;oBACb,WAAU;8BAEV,cAAA,4OAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,GAAE;;;;;;;;;;;;;;;;;;;;;;AAMd;GA3FwB;;QAMP,iMAAS;QACI,oLAAO;;;KAPb","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/components/ActorMoviesGrid.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { likesAPI } from '@/lib/api';\nimport { useAuth } from '@/context/AuthContext';\nimport MoviePosterOverlay from '@/components/MoviePosterOverlay';\n\ntype Movie = {\n  id: string;\n  title: string;\n  year?: number;\n  posterUrl?: string;\n  rating?: string;\n};\n\nexport default function ActorMoviesGrid({ movies }: { movies: Movie[] }) {\n  const router = useRouter();\n  const { isAuthenticated } = useAuth();\n  const [likedMap, setLikedMap] = useState<Record<string, boolean>>({});\n\n  const items = useMemo(() => (movies || []).map(m => ({ type: 'Movie', id: String(m.id) })), [movies]);\n\n  useEffect(() => {\n    if (!isAuthenticated || items.length === 0) return;\n    likesAPI\n      .check(items)\n      .then((res) => {\n        const map: Record<string, boolean> = {};\n        const liked = res.data?.liked || {};\n        for (const it of items) {\n          map[it.id] = Boolean(liked[`Movie_${it.id}`]);\n        }\n        setLikedMap(map);\n      })\n      .catch(() => {});\n  }, [isAuthenticated, items]);\n\n  const sorted = useMemo(() => {\n    const copy = [...(movies || [])];\n    copy.sort((a, b) => {\n      const la = likedMap[String(a.id)] ? 1 : 0;\n      const lb = likedMap[String(b.id)] ? 1 : 0;\n      if (lb !== la) return lb - la; // liked first\n      // fallback: newer year first\n      const ya = a.year ? Number(a.year) : 0;\n      const yb = b.year ? Number(b.year) : 0;\n      return yb - ya;\n    });\n    return copy;\n  }, [movies, likedMap]);\n\n  if (!movies || movies.length === 0) {\n    return <div className=\"text-gray-400\">표시할 작품이 없습니다</div>;\n  }\n\n  return (\n    <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6\">\n      {sorted.map((m) => (\n        <div key={m.id} className=\"group cursor-pointer\" onClick={() => router.push(`/movie/${m.id}`)}>\n          <div className=\"relative aspect-[2/3] bg-gray-800 rounded-lg overflow-hidden mb-2 group-hover:ring-2 group-hover:ring-red-500 transition\">\n            {m.posterUrl ? (\n              // eslint-disable-next-line @next/next/no-img-element\n              <img src={m.posterUrl} alt={m.title} className=\"w-full h-full object-cover\" />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center text-gray-500\">No Image</div>\n            )}\n            {/* Rating and Like Button Overlay */}\n            <MoviePosterOverlay\n              movieId={String(m.id)}\n              rating={m.rating}\n              initiallyLiked={likedMap[String(m.id)] || false}\n              onLikeChange={(liked) => {\n                setLikedMap(prev => ({ ...prev, [String(m.id)]: liked }));\n              }}\n            />\n          </div>\n          <div className=\"text-sm font-medium line-clamp-2\">{m.title}</div>\n          <div className=\"text-xs text-gray-400\">{m.year}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAgBe,SAAS,gBAAgB,EAAE,MAAM,EAAuB;;IACrE,MAAM,SAAS,IAAA,iMAAS;IACxB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,oLAAO;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wNAAQ,EAA0B,CAAC;IAEnE,MAAM,QAAQ,IAAA,uNAAO;0CAAC,IAAM,CAAC,UAAU,EAAE,EAAE,GAAG;kDAAC,CAAA,IAAK,CAAC;wBAAE,MAAM;wBAAS,IAAI,OAAO,EAAE,EAAE;oBAAE,CAAC;;yCAAI;QAAC;KAAO;IAEpG,IAAA,yNAAS;qCAAC;YACR,IAAI,CAAC,mBAAmB,MAAM,MAAM,KAAK,GAAG;YAC5C,wKAAQ,CACL,KAAK,CAAC,OACN,IAAI;6CAAC,CAAC;oBACL,MAAM,MAA+B,CAAC;oBACtC,MAAM,QAAQ,IAAI,IAAI,EAAE,SAAS,CAAC;oBAClC,KAAK,MAAM,MAAM,MAAO;wBACtB,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,QAAQ,KAAK,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC;oBAC9C;oBACA,YAAY;gBACd;4CACC,KAAK;6CAAC,KAAO;;QAClB;oCAAG;QAAC;QAAiB;KAAM;IAE3B,MAAM,SAAS,IAAA,uNAAO;2CAAC;YACrB,MAAM,OAAO;mBAAK,UAAU,EAAE;aAAE;YAChC,KAAK,IAAI;mDAAC,CAAC,GAAG;oBACZ,MAAM,KAAK,QAAQ,CAAC,OAAO,EAAE,EAAE,EAAE,GAAG,IAAI;oBACxC,MAAM,KAAK,QAAQ,CAAC,OAAO,EAAE,EAAE,EAAE,GAAG,IAAI;oBACxC,IAAI,OAAO,IAAI,OAAO,KAAK,IAAI,cAAc;oBAC7C,6BAA6B;oBAC7B,MAAM,KAAK,EAAE,IAAI,GAAG,OAAO,EAAE,IAAI,IAAI;oBACrC,MAAM,KAAK,EAAE,IAAI,GAAG,OAAO,EAAE,IAAI,IAAI;oBACrC,OAAO,KAAK;gBACd;;YACA,OAAO;QACT;0CAAG;QAAC;QAAQ;KAAS;IAErB,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG;QAClC,qBAAO,4OAAC;YAAI,WAAU;sBAAgB;;;;;;IACxC;IAEA,qBACE,4OAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC,kBACX,4OAAC;gBAAe,WAAU;gBAAuB,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE;;kCAC1F,4OAAC;wBAAI,WAAU;;4BACZ,EAAE,SAAS,GACV,qDAAqD;0CACrD,4OAAC;gCAAI,KAAK,EAAE,SAAS;gCAAE,KAAK,EAAE,KAAK;gCAAE,WAAU;;;;;qDAE/C,4OAAC;gCAAI,WAAU;0CAA+D;;;;;;0CAGhF,4OAAC,8LAAkB;gCACjB,SAAS,OAAO,EAAE,EAAE;gCACpB,QAAQ,EAAE,MAAM;gCAChB,gBAAgB,QAAQ,CAAC,OAAO,EAAE,EAAE,EAAE,IAAI;gCAC1C,cAAc,CAAC;oCACb,YAAY,CAAA,OAAQ,CAAC;4CAAE,GAAG,IAAI;4CAAE,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE;wCAAM,CAAC;gCACzD;;;;;;;;;;;;kCAGJ,4OAAC;wBAAI,WAAU;kCAAoC,EAAE,KAAK;;;;;;kCAC1D,4OAAC;wBAAI,WAAU;kCAAyB,EAAE,IAAI;;;;;;;eAnBtC,EAAE,EAAE;;;;;;;;;;AAwBtB;GAnEwB;;QACP,iMAAS;QACI,oLAAO;;;KAFb","debugId":null}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Desktop/aaaaaaaaaaa/draft/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}